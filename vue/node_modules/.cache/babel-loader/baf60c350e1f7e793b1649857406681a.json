{"remainingRequest":"/Users/artursjermolickis/projects/team3FinalProject/team3FinalProject/vue/node_modules/thread-loader/dist/cjs.js!/Users/artursjermolickis/projects/team3FinalProject/team3FinalProject/vue/node_modules/babel-loader/lib/index.js!/Users/artursjermolickis/projects/team3FinalProject/team3FinalProject/vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/artursjermolickis/projects/team3FinalProject/team3FinalProject/vue/src/store/auth.module.js","dependencies":[{"path":"/Users/artursjermolickis/projects/team3FinalProject/team3FinalProject/vue/src/store/auth.module.js","mtime":1630654849075},{"path":"/Users/artursjermolickis/projects/team3FinalProject/team3FinalProject/vue/node_modules/cache-loader/dist/cjs.js","mtime":1630655629758},{"path":"/Users/artursjermolickis/projects/team3FinalProject/team3FinalProject/vue/node_modules/thread-loader/dist/cjs.js","mtime":1630655629680},{"path":"/Users/artursjermolickis/projects/team3FinalProject/team3FinalProject/vue/node_modules/babel-loader/lib/index.js","mtime":1630655630393},{"path":"/Users/artursjermolickis/projects/team3FinalProject/team3FinalProject/vue/node_modules/eslint-loader/index.js","mtime":1630655629847}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2FydHVyc2plcm1vbGlja2lzL3Byb2plY3RzL3RlYW0zRmluYWxQcm9qZWN0L3RlYW0zRmluYWxQcm9qZWN0L3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgQXV0aFNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvYXV0aC5zZXJ2aWNlJzsKdmFyIHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwp2YXIgaW5pdGlhbFN0YXRlID0gdXNlciA/IHsKICBzdGF0dXM6IHsKICAgIGxvZ2dlZEluOiB0cnVlCiAgfSwKICB1c2VyOiB1c2VyCn0gOiB7CiAgc3RhdHVzOiB7CiAgICBsb2dnZWRJbjogZmFsc2UKICB9LAogIHVzZXI6IG51bGwKfTsKZXhwb3J0IHZhciBhdXRoID0gewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IGluaXRpYWxTdGF0ZSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHJldHVybiBBdXRoU2VydmljZS5sb2dpbih1c2VyKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgY29tbWl0KCdsb2dpblN1Y2Nlc3MnLCB1c2VyKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVzZXIpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb21taXQoJ2xvZ2luRmFpbHVyZScpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWYyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIEF1dGhTZXJ2aWNlLmxvZ291dCgpOwogICAgICBjb21taXQoJ2xvZ291dCcpOwogICAgfSwKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcihfcmVmMywgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICByZXR1cm4gQXV0aFNlcnZpY2UucmVnaXN0ZXIodXNlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb21taXQoJ3JlZ2lzdGVyU3VjY2VzcycpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UuZGF0YSk7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbW1pdCgncmVnaXN0ZXJGYWlsdXJlJyk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVmcmVzaFRva2VuOiBmdW5jdGlvbiByZWZyZXNoVG9rZW4oX3JlZjQsIGFjY2Vzc1Rva2VuKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgIGNvbW1pdCgncmVmcmVzaFRva2VuJywgYWNjZXNzVG9rZW4pOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBsb2dpblN1Y2Nlc3M6IGZ1bmN0aW9uIGxvZ2luU3VjY2VzcyhzdGF0ZSwgdXNlcikgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSB0cnVlOwogICAgICBzdGF0ZS51c2VyID0gdXNlcjsKICAgIH0sCiAgICBsb2dpbkZhaWx1cmU6IGZ1bmN0aW9uIGxvZ2luRmFpbHVyZShzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSBmYWxzZTsKICAgICAgc3RhdGUudXNlciA9IG51bGw7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICAgIHN0YXRlLnVzZXIgPSBudWxsOwogICAgfSwKICAgIHJlZ2lzdGVyU3VjY2VzczogZnVuY3Rpb24gcmVnaXN0ZXJTdWNjZXNzKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgfSwKICAgIHJlZ2lzdGVyRmFpbHVyZTogZnVuY3Rpb24gcmVnaXN0ZXJGYWlsdXJlKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgfSwKICAgIHJlZnJlc2hUb2tlbjogZnVuY3Rpb24gcmVmcmVzaFRva2VuKHN0YXRlLCBhY2Nlc3NUb2tlbikgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSB0cnVlOwogICAgICBzdGF0ZS51c2VyID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS51c2VyKSwge30sIHsKICAgICAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/artursjermolickis/projects/team3FinalProject/team3FinalProject/vue/src/store/auth.module.js"],"names":["AuthService","user","JSON","parse","localStorage","getItem","initialState","status","loggedIn","auth","namespaced","state","actions","login","commit","then","Promise","resolve","error","reject","logout","register","response","data","refreshToken","accessToken","mutations","loginSuccess","loginFailure","registerSuccess","registerFailure"],"mappings":"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","sourcesContent":["import AuthService from '../services/auth.service';\n\nconst user = JSON.parse(localStorage.getItem('user'));\nconst initialState = user\n  ? { status: { loggedIn: true }, user }\n  : { status: { loggedIn: false }, user: null };\n\nexport const auth = {\n  namespaced: true,\n  state: initialState,\n  actions: {\n    login({ commit }, user) {\n      return AuthService.login(user).then(\n        user => {\n          commit('loginSuccess', user);\n          return Promise.resolve(user);\n        },\n        error => {\n          commit('loginFailure');\n          return Promise.reject(error);\n        }\n      );\n    },\n    logout({ commit }) {\n      AuthService.logout();\n      commit('logout');\n    },\n    register({ commit }, user) {\n      return AuthService.register(user).then(\n        response => {\n          commit('registerSuccess');\n          return Promise.resolve(response.data);\n        },\n        error => {\n          commit('registerFailure');\n          return Promise.reject(error);\n        }\n      );\n    },\n    refreshToken({ commit }, accessToken) {\n        commit('refreshToken', accessToken);\n    }\n  },\n  mutations: {\n    loginSuccess(state, user) {\n      state.status.loggedIn = true;\n      state.user = user;\n    },\n    loginFailure(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    logout(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    registerSuccess(state) {\n      state.status.loggedIn = false;\n    },\n    registerFailure(state) {\n      state.status.loggedIn = false;\n    },\n    refreshToken(state, accessToken) {\n        state.status.loggedIn = true;\n        state.user = { ...state.user, accessToken: accessToken };\n    }\n  }\n};\n"]}]}