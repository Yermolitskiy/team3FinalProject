{"remainingRequest":"/Users/artursjermolickis/projects/Team3FinalProjectDeploy/team3Deploy/vue/node_modules/babel-loader/lib/index.js!/Users/artursjermolickis/projects/Team3FinalProjectDeploy/team3Deploy/vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/artursjermolickis/projects/Team3FinalProjectDeploy/team3Deploy/vue/src/router.js","dependencies":[{"path":"/Users/artursjermolickis/projects/Team3FinalProjectDeploy/team3Deploy/vue/src/router.js","mtime":1630654849074},{"path":"/Users/artursjermolickis/projects/Team3FinalProjectDeploy/team3Deploy/vue/node_modules/cache-loader/dist/cjs.js","mtime":1630655629758},{"path":"/Users/artursjermolickis/projects/Team3FinalProjectDeploy/team3Deploy/vue/node_modules/babel-loader/lib/index.js","mtime":1630655630393},{"path":"/Users/artursjermolickis/projects/Team3FinalProjectDeploy/team3Deploy/vue/node_modules/eslint-loader/index.js","mtime":1630655629847}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCB7IGNyZWF0ZVdlYkhpc3RvcnksIGNyZWF0ZVJvdXRlciB9IGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgSG9tZSBmcm9tICIuL2NvbXBvbmVudHMvSG9tZS52dWUiOwppbXBvcnQgTG9naW4gZnJvbSAiLi9jb21wb25lbnRzL0xvZ2luLnZ1ZSI7CmltcG9ydCBSZWdpc3RlciBmcm9tICIuL2NvbXBvbmVudHMvUmVnaXN0ZXIudnVlIjsKCnZhciBQcm9maWxlID0gZnVuY3Rpb24gUHJvZmlsZSgpIHsKICByZXR1cm4gaW1wb3J0KCIuL2NvbXBvbmVudHMvUHJvZmlsZS52dWUiKTsKfTsKCnZhciBCb2FyZEFkbWluID0gZnVuY3Rpb24gQm9hcmRBZG1pbigpIHsKICByZXR1cm4gaW1wb3J0KCIuL2NvbXBvbmVudHMvQm9hcmRBZG1pbi52dWUiKTsKfTsKCnZhciBCb2FyZE1vZGVyYXRvciA9IGZ1bmN0aW9uIEJvYXJkTW9kZXJhdG9yKCkgewogIHJldHVybiBpbXBvcnQoIi4vY29tcG9uZW50cy9Cb2FyZE1vZGVyYXRvci52dWUiKTsKfTsKCnZhciBCb2FyZFVzZXIgPSBmdW5jdGlvbiBCb2FyZFVzZXIoKSB7CiAgcmV0dXJuIGltcG9ydCgiLi9jb21wb25lbnRzL0JvYXJkVXNlci52dWUiKTsKfTsKCnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICIvIiwKICBuYW1lOiAiaG9tZSIsCiAgY29tcG9uZW50OiBIb21lCn0sIHsKICBwYXRoOiAiL2hvbWUiLAogIGNvbXBvbmVudDogSG9tZQp9LCB7CiAgcGF0aDogIi9sb2dpbiIsCiAgY29tcG9uZW50OiBMb2dpbgp9LCB7CiAgcGF0aDogIi9yZWdpc3RlciIsCiAgY29tcG9uZW50OiBSZWdpc3Rlcgp9LCB7CiAgcGF0aDogIi9wcm9maWxlIiwKICBuYW1lOiAicHJvZmlsZSIsCiAgY29tcG9uZW50OiBQcm9maWxlCn0sIHsKICBwYXRoOiAiL2FkbWluIiwKICBuYW1lOiAiYWRtaW4iLAogIGNvbXBvbmVudDogQm9hcmRBZG1pbgp9LCB7CiAgcGF0aDogIi9tb2QiLAogIG5hbWU6ICJtb2RlcmF0b3IiLAogIGNvbXBvbmVudDogQm9hcmRNb2RlcmF0b3IKfSwgewogIHBhdGg6ICIvdXNlciIsCiAgbmFtZTogInVzZXIiLAogIGNvbXBvbmVudDogQm9hcmRVc2VyCn0sIHsKICBwYXRoOiAiLyIsCiAgYWxpYXM6ICIvcG9zdHMiLAogIG5hbWU6ICJwb3N0cyIsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuL2NvbXBvbmVudHMvUG9zdHNMaXN0Iik7CiAgfQp9LCB7CiAgcGF0aDogIi9wb3N0cy86aWQiLAogIG5hbWU6ICJwb3N0LWRldGFpbHMiLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgiLi9jb21wb25lbnRzL1Bvc3QiKTsKICB9Cn0sIHsKICBwYXRoOiAiL2FkZCIsCiAgbmFtZTogImFkZCIsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuL2NvbXBvbmVudHMvQWRkUG9zdCIpOwogIH0KfV07CnZhciByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoewogIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkoKSwKICByb3V0ZXM6IHJvdXRlcwp9KTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgdmFyIHB1YmxpY1BhZ2VzID0gWycvbG9naW4nLCAnL3JlZ2lzdGVyJywgJy9ob21lJ107CiAgdmFyIGF1dGhSZXF1aXJlZCA9ICFwdWJsaWNQYWdlcy5pbmNsdWRlcyh0by5wYXRoKTsKICB2YXIgbG9nZ2VkSW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpOyAvLyB0cnlpbmcgdG8gYWNjZXNzIGEgcmVzdHJpY3RlZCBwYWdlICsgbm90IGxvZ2dlZCBpbgogIC8vIHJlZGlyZWN0IHRvIGxvZ2luIHBhZ2UKCiAgaWYgKGF1dGhSZXF1aXJlZCAmJiAhbG9nZ2VkSW4pIHsKICAgIG5leHQoJy9sb2dpbicpOwogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["/Users/artursjermolickis/projects/Team3FinalProjectDeploy/team3Deploy/vue/src/router.js"],"names":["createWebHistory","createRouter","Home","Login","Register","Profile","BoardAdmin","BoardModerator","BoardUser","routes","path","name","component","alias","router","history","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","localStorage","getItem"],"mappings":"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","sourcesContent":["import { createWebHistory, createRouter } from \"vue-router\";\nimport Home from \"./components/Home.vue\";\nimport Login from \"./components/Login.vue\";\nimport Register from \"./components/Register.vue\";\nconst Profile = () => import(\"./components/Profile.vue\")\nconst BoardAdmin = () => import(\"./components/BoardAdmin.vue\")\nconst BoardModerator = () => import(\"./components/BoardModerator.vue\")\nconst BoardUser = () => import(\"./components/BoardUser.vue\")\n\nconst routes =  [\n  {\n    path: \"/\",\n    name: \"home\",\n    component: Home,\n  },\n  {\n    path: \"/home\",\n    component: Home,\n  },\n  {\n    path: \"/login\",\n    component: Login,\n  },\n  {\n    path: \"/register\",\n    component: Register,\n  },\n  {\n    path: \"/profile\",\n    name: \"profile\",\n    component: Profile,\n  },\n  {\n    path: \"/admin\",\n    name: \"admin\",\n    component: BoardAdmin,\n  },\n  {\n    path: \"/mod\",\n    name: \"moderator\",\n    component: BoardModerator,\n  },\n  {\n    path: \"/user\",\n    name: \"user\",\n    component: BoardUser,\n  },\n  {\n    path: \"/\",\n    alias: \"/posts\",\n    name: \"posts\",\n    component: () => import(\"./components/PostsList\")\n  },\n  {\n    path: \"/posts/:id\",\n    name: \"post-details\",\n    component: () => import(\"./components/Post\")\n  },\n  {\n    path: \"/add\",\n    name: \"add\",\n    component: () => import(\"./components/AddPost\")\n  }\n];\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n  const publicPages = ['/login', '/register', '/home'];\n  const authRequired = !publicPages.includes(to.path);\n  const loggedIn = localStorage.getItem('user');\n\n  // trying to access a restricted page + not logged in\n  // redirect to login page\n  if (authRequired && !loggedIn) {\n    next('/login');\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"]}]}